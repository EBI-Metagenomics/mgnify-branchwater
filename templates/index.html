<link
  href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css"
  rel="stylesheet"
  integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD"
  crossorigin="anonymous"
/>

<!DOCTYPE html>

<!-- Github demo 
src="static/mgnify-sourmash-component-gh-pages/mgnify-sourmash-component.js"

show_directory_checkbox
      show_signatures
-->

<html>
  <head>
    <meta charset="utf-8" />
    <title>Mastiff-Metadata-Query</title>
    <script
      defer="defer"
      src="static/files/mgnify-sourmash-component/dist/mgnify-sourmash-component.js"
    ></script>
  </head>
  <body>
    <h1>Mastiff-Metadata-Query</h1>
    <hr />
    <mgnify-sourmash-component id="sourmash" ksize="21" scaled="1000" />

    <!-- FETCH API (AJAX call)-->
    <script>
      document.addEventListener("sketched", (evt) =>
        fetch("/home", {
          headers: {
            "Content-Type": "application/json",
          },
          method: "POST",
          body: evt.detail.signature,
        })
          .then(function (response) {
            if (response.ok) {
              response.json().then(function (response) {
                console.log(response);
              });
            } else {
              throw Error("Something went wrong");
            }
          })
          .catch(function (error) {
            console.log(error);
          })
      );
    </script>
  </body>
</html>
